<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flareon - Pedidos Online</title>
    <!-- EmailJS para notificaciones por correo -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: linear-gradient(180deg, #1a0000 0%, #330000 50%, #1a0000 100%);
            color: #ffffff;
            min-height: 100vh;
            padding-bottom: 100px;
            position: relative;
            overflow-x: hidden;
        }

        /* Llamas de fondo animadas */
        .flames-bg {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 300px;
            z-index: 0;
            pointer-events: none;
        }

        .flame {
            position: absolute;
            bottom: -50px;
            width: 0;
            height: 0;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-bottom: 100px solid #ff6b00;
            filter: blur(8px);
            animation: flicker 2s ease-in-out infinite;
            opacity: 0.7;
        }

        .flame:nth-child(1) { left: 5%; animation-delay: 0s; border-bottom-color: #ff4500; }
        .flame:nth-child(2) { left: 15%; animation-delay: 0.3s; border-bottom-color: #ff6b00; }
        .flame:nth-child(3) { left: 25%; animation-delay: 0.6s; border-bottom-color: #ff8c00; }
        .flame:nth-child(4) { left: 35%; animation-delay: 0.2s; border-bottom-color: #ff4500; }
        .flame:nth-child(5) { left: 45%; animation-delay: 0.8s; border-bottom-color: #ff6b00; }
        .flame:nth-child(6) { left: 55%; animation-delay: 0.4s; border-bottom-color: #ff8c00; }
        .flame:nth-child(7) { left: 65%; animation-delay: 0.7s; border-bottom-color: #ff4500; }
        .flame:nth-child(8) { left: 75%; animation-delay: 0.1s; border-bottom-color: #ff6b00; }
        .flame:nth-child(9) { left: 85%; animation-delay: 0.5s; border-bottom-color: #ff8c00; }
        .flame:nth-child(10) { left: 95%; animation-delay: 0.9s; border-bottom-color: #ff4500; }

        @keyframes flicker {
            0%, 100% { 
                transform: translateY(0) scale(1);
                opacity: 0.7;
            }
            50% { 
                transform: translateY(-30px) scale(1.2);
                opacity: 0.9;
            }
        }

        /* Part√≠culas de fuego flotantes */
        .fire-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: radial-gradient(circle, #ff6b00, transparent);
            border-radius: 50%;
            animation: float-up 8s ease-in infinite;
            opacity: 0;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100px) translateX(50px);
                opacity: 0;
            }
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 20px;
            border-bottom: 2px solid rgba(255, 107, 0, 0.3);
            position: relative;
            z-index: 1;
        }

        .logo-space {
            width: 120px;
            height: 120px;
            margin: 0 auto 20px;
            border: 3px solid #ff6b00;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(circle, rgba(255, 107, 0, 0.2), transparent);
            box-shadow: 0 0 20px rgba(255, 107, 0, 0.5);
            animation: pulse 3s ease-in-out infinite;
            font-size: 12px;
            color: #ff6b00;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 107, 0, 0.5); }
            50% { box-shadow: 0 0 40px rgba(255, 107, 0, 0.8); }
        }

        .title {
            font-size: 48px;
            font-weight: 800;
            color: #ff6b00;
            text-shadow: 0 0 20px rgba(255, 107, 0, 0.8);
            letter-spacing: 3px;
        }

        .subtitle {
            color: #ff8c00;
            margin-top: 10px;
            font-size: 16px;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* Secciones */
        .section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 32px;
            color: #ff6b00;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Grid de productos */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .product-card {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 107, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s ease;
            position: relative;
        }

        .product-card:hover {
            border-color: #ff6b00;
            box-shadow: 0 5px 30px rgba(255, 107, 0, 0.4);
            transform: translateY(-5px);
        }

        .product-name {
            font-size: 22px;
            font-weight: 700;
            color: #ff6b00;
            margin-bottom: 10px;
        }

        .product-description {
            font-size: 14px;
            color: #cccccc;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .product-price {
            font-size: 28px;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 15px;
        }

        .price-input {
            width: 100%;
            padding: 10px;
            font-size: 18px;
            background: rgba(255, 107, 0, 0.1);
            border: 2px solid #ff6b00;
            border-radius: 8px;
            color: #ffffff;
            text-align: center;
            margin-bottom: 15px;
        }

        .price-input:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.5);
        }

        .add-to-cart-btn {
            width: 100%;
            padding: 12px;
            background: #ff6b00;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-to-cart-btn:hover {
            background: #ff8c00;
            box-shadow: 0 5px 20px rgba(255, 107, 0, 0.6);
        }

        .add-to-cart-btn:active {
            transform: scale(0.95);
        }

        /* Extras (salsas) */
        .extras-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .extra-chip {
            background: rgba(255, 107, 0, 0.2);
            border: 2px solid #ff6b00;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            color: #ff6b00;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
            position: relative;
        }

        .extra-chip:hover {
            background: rgba(255, 107, 0, 0.4);
            transform: scale(1.05);
        }

        .extra-chip.selected {
            background: #ff6b00;
            color: white;
            box-shadow: 0 0 15px rgba(255, 107, 0, 0.8);
        }

        .extra-chip.selected::after {
            content: '‚úì';
            position: absolute;
            top: -5px;
            right: -5px;
            background: #00ff00;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Carrito flotante */
        .cart-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ff6b00;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 5px 30px rgba(255, 107, 0, 0.8);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .cart-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 40px rgba(255, 107, 0, 1);
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff4500;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 800;
        }

        /* Modal del carrito */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: linear-gradient(180deg, #2a0000 0%, #1a0000 100%);
            border: 3px solid #ff6b00;
            border-radius: 20px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 107, 0, 0.3);
        }

        .modal-title {
            font-size: 28px;
            color: #ff6b00;
            font-weight: 800;
        }

        .close-btn {
            background: none;
            border: none;
            color: #ff6b00;
            font-size: 32px;
            cursor: pointer;
            line-height: 1;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            color: #ff8c00;
            transform: rotate(90deg);
        }

        .cart-item {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 107, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .cart-item-name {
            font-size: 18px;
            font-weight: 700;
            color: #ff6b00;
        }

        .cart-item-price {
            font-size: 20px;
            font-weight: 800;
            color: #ffffff;
        }

        .cart-item-details {
            font-size: 14px;
            color: #cccccc;
            margin-bottom: 10px;
        }

        .remove-btn {
            background: rgba(255, 69, 0, 0.2);
            border: 1px solid #ff4500;
            color: #ff4500;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            background: #ff4500;
            color: white;
        }

        .cart-total {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid rgba(255, 107, 0, 0.3);
            font-size: 24px;
            font-weight: 800;
            text-align: right;
            color: #ff6b00;
        }

        .checkout-btn {
            width: 100%;
            padding: 15px;
            background: #ff6b00;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .checkout-btn:hover {
            background: #ff8c00;
            box-shadow: 0 5px 20px rgba(255, 107, 0, 0.8);
        }

        .empty-cart {
            text-align: center;
            padding: 40px;
            color: #888;
        }

        /* Calculador de Delivery */
        .delivery-section {
            background: rgba(255, 107, 0, 0.1);
            border: 2px solid #ff6b00;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .delivery-title {
            font-size: 18px;
            color: #ff6b00;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }

        .delivery-input-group {
            margin-bottom: 15px;
        }

        .delivery-label {
            display: block;
            color: #cccccc;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .delivery-input {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 107, 0, 0.3);
            border-radius: 8px;
            color: #ffffff;
            font-size: 16px;
        }

        .delivery-select {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 107, 0, 0.3);
            border-radius: 8px;
            color: #ffffff;
            font-size: 16px;
            cursor: pointer;
        }

        .delivery-select option {
            background: #1a0000;
            color: #ffffff;
        }

        .delivery-input:focus,
        .delivery-select:focus {
            outline: none;
            border-color: #ff6b00;
            box-shadow: 0 0 10px rgba(255, 107, 0, 0.3);
        }

        .delivery-textarea {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 107, 0, 0.3);
            border-radius: 8px;
            color: #ffffff;
            font-size: 14px;
            resize: vertical;
            min-height: 60px;
            font-family: inherit;
        }

        .delivery-textarea:focus {
            outline: none;
            border-color: #ff6b00;
            box-shadow: 0 0 10px rgba(255, 107, 0, 0.3);
        }

        .maps-button {
            width: 100%;
            padding: 10px;
            background: rgba(255, 107, 0, 0.2);
            border: 2px solid #ff6b00;
            border-radius: 8px;
            color: #ff6b00;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            font-weight: 600;
        }

        .maps-button:hover {
            background: rgba(255, 107, 0, 0.4);
            transform: translateY(-2px);
        }

        .delivery-result {
            background: rgba(255, 107, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-top: 15px;
            font-size: 18px;
            font-weight: 700;
            color: #ff6b00;
        }

        .distance-info {
            font-size: 12px;
            color: #888;
            text-align: center;
            margin-top: 10px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .title {
                font-size: 36px;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .cart-button {
                bottom: 10px;
                right: 10px;
                padding: 12px 25px;
                font-size: 16px;
            }
        }

        /* Campo de nombre del cliente */
        .customer-name-section {
            background: rgba(255, 107, 0, 0.1);
            border: 2px solid #ff6b00;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .customer-name-input {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 107, 0, 0.3);
            border-radius: 8px;
            color: #ffffff;
            font-size: 16px;
            margin-top: 10px;
        }

        .customer-name-input:focus {
            outline: none;
            border-color: #ff6b00;
            box-shadow: 0 0 10px rgba(255, 107, 0, 0.3);
        }

        /* Burbuja de WhatsApp flotante */
        .whatsapp-bubble {
            position: fixed;
            bottom: 90px;
            right: 20px;
            background: #25D366;
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 32px;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.6);
            z-index: 999;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .whatsapp-bubble:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(37, 211, 102, 0.9);
        }

        .whatsapp-bubble:active {
            transform: scale(0.95);
        }

        /* Panel de administraci√≥n */
        .admin-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 107, 0, 0.2);
            color: #ff6b00;
            border: 2px solid #ff6b00;
            border-radius: 8px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
            display: none; /* Oculto por defecto */
        }

        .admin-button.visible {
            display: block;
        }

        .admin-button:hover {
            background: rgba(255, 107, 0, 0.4);
        }

        .admin-panel {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid #ff6b00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-title {
            color: #ff6b00;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .admin-section {
            margin-bottom: 20px;
        }

        .admin-label {
            color: #cccccc;
            font-size: 14px;
            margin-bottom: 5px;
            display: block;
        }

        .admin-input {
            width: 100%;
            padding: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(255, 107, 0, 0.3);
            border-radius: 8px;
            color: #ffffff;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .admin-input:focus {
            outline: none;
            border-color: #ff6b00;
        }

        .admin-save-btn {
            background: #ff6b00;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-save-btn:hover {
            background: #ff8c00;
        }

        .product-list {
            margin-top: 15px;
        }

        .product-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-item-name {
            color: #ff6b00;
            font-weight: 600;
        }

        .product-item-price {
            color: #fff;
        }

        .delete-product-btn {
            background: rgba(255, 69, 0, 0.3);
            border: 1px solid #ff4500;
            color: #ff4500;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 10px;
        }

        .delete-product-btn:hover {
            background: #ff4500;
            color: white;
        }

        .add-product-section {
            background: rgba(255, 107, 0, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border: 1px dashed rgba(255, 107, 0, 0.3);
        }

        .logo-upload-section {
            background: rgba(255, 107, 0, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 107, 0, 0.3);
        }

        .logo-preview {
            width: 150px;
            height: 150px;
            border: 2px solid #ff6b00;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px auto;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.3);
        }

        .logo-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .file-input-label {
            display: inline-block;
            background: rgba(255, 107, 0, 0.2);
            border: 2px solid #ff6b00;
            color: #ff6b00;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .file-input-label:hover {
            background: rgba(255, 107, 0, 0.4);
        }

        .file-input-label input[type="file"] {
            display: none;
        }

        .section-management {
            background: rgba(255, 107, 0, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid rgba(255, 107, 0, 0.3);
        }

        .section-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Animaci√≥n de agregar al carrito */
        @keyframes addToCart {
            0% { transform: scale(1); }
            50% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        .adding {
            animation: addToCart 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- Llamas de fondo -->
    <div class="flames-bg">
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
        <div class="flame"></div>
    </div>

    <!-- Part√≠culas de fuego -->
    <div class="fire-particles" id="particles"></div>

    <!-- Header -->
    <div class="header">
        <div class="logo-space">[logo-space.png]</div>
        <h1 class="title">FLAREON</h1>
        <p class="subtitle">üî• Alitas, papas fritas y m√°s üî•</p>
        <p class="subtitle">üìç Delivery a todo Tumbes</p>
    </div>

    <!-- Bot√≥n de administraci√≥n -->
    <button class="admin-button" onclick="toggleAdmin()">‚öôÔ∏è Admin</button>

    <!-- Panel de administraci√≥n -->
    <div class="container">
        <div class="admin-panel" id="admin-panel">
            <div class="admin-title">üîß Panel de Administraci√≥n</div>
            
            <!-- Subir Logo -->
            <div class="admin-section">
                <label class="admin-label">üñºÔ∏è Logo del Negocio</label>
                <div class="logo-upload-section">
                    <div class="logo-preview" id="logo-preview">
                        <span style="color: #888;">Sin logo</span>
                    </div>
                    <div style="text-align: center;">
                        <label class="file-input-label">
                            üì§ Subir Logo
                            <input type="file" accept="image/*" onchange="uploadLogo(event)">
                        </label>
                        <button class="delete-product-btn" onclick="removeLogo()" style="margin-left: 10px;">üóëÔ∏è Quitar Logo</button>
                    </div>
                </div>
            </div>

            <div class="admin-section">
                <label class="admin-label">üìß Configuraci√≥n de Email (Notificaciones)</label>
                <input type="email" id="admin-email" class="admin-input" placeholder="tu@email.com">
                <small style="color: #888; font-size: 12px; display: block; margin-bottom: 10px;">Email donde recibir√°s los pedidos</small>
                
                <input type="text" id="emailjs-service" class="admin-input" placeholder="Service ID de EmailJS">
                <input type="text" id="emailjs-template" class="admin-input" placeholder="Template ID de EmailJS">
                <input type="text" id="emailjs-public-key" class="admin-input" placeholder="Public Key de EmailJS">
                
                <small style="color: #888; font-size: 12px; display: block; margin-top: 10px;">
                    üìñ <a href="#" onclick="showEmailJSInstructions(); return false;" style="color: #ff6b00;">¬øC√≥mo configurar EmailJS?</a>
                </small>
            </div>

            <div class="admin-section">
                <label class="admin-label">üì± WhatsApp del negocio</label>
                <input type="text" id="admin-whatsapp" class="admin-input" value="51942125102">
            </div>

            <div class="admin-section">
                <label class="admin-label">üîê Seguridad - IP Autorizada</label>
                <input type="text" id="authorized-ip" class="admin-input" readonly style="background: rgba(0,0,0,0.7);">
                <small style="color: #888; font-size: 12px; display: block; margin-top: 5px;">
                    Tu IP actual: <span id="current-ip" style="color: #ff6b00;">Detectando...</span>
                </small>
                <button class="admin-save-btn" onclick="changeAuthorizedIP()" style="margin-top: 10px; background: rgba(255, 69, 0, 0.3); border: 2px solid #ff4500;">
                    üîÑ Cambiar IP Autorizada (usar IP actual)
                </button>
                <small style="color: #ff4500; font-size: 11px; display: block; margin-top: 5px;">
                    ‚ö†Ô∏è Solo la IP autorizada podr√° ver el bot√≥n de Admin
                </small>
            </div>

            <!-- Configuraci√≥n de Firebase -->
            <div class="admin-section" style="background: rgba(255, 107, 0, 0.05); border: 2px solid #ff6b00; padding: 20px; border-radius: 10px;">
                <label class="admin-label">üî• Sincronizaci√≥n Firebase (Recomendado)</label>
                <small style="color: #888; font-size: 12px; display: block; margin-bottom: 15px;">
                    Sincroniza tus cambios en todos los dispositivos. Los clientes siempre ver√°n el men√∫ actualizado.
                </small>
                
                <input type="text" id="firebase-api-key" class="admin-input" placeholder="API Key (ej: AIzaSy...)">
                <input type="text" id="firebase-auth-domain" class="admin-input" placeholder="Auth Domain (ej: flareon-app.firebaseapp.com)">
                <input type="text" id="firebase-database-url" class="admin-input" placeholder="Database URL (ej: https://flareon-app-default-rtdb.firebaseio.com)">
                <input type="text" id="firebase-project-id" class="admin-input" placeholder="Project ID (ej: flareon-app)">
                
                <div style="margin-top: 15px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px;">
                    <small style="color: #ff6b00; font-size: 12px; display: block; margin-bottom: 5px;">
                        üìä Estado de sincronizaci√≥n:
                    </small>
                    <small id="firebase-status" style="color: #888; font-size: 12px;">
                        ‚ö™ No configurado
                    </small>
                </div>
                
                <button class="admin-save-btn" onclick="saveFirebaseConfig()" style="margin-top: 15px; background: #ff6b00;">
                    üî• Guardar y Activar Firebase
                </button>
                
                <small style="color: #888; font-size: 11px; display: block; margin-top: 10px;">
                    üìñ <a href="#" onclick="showFirebaseSetup(); return false;" style="color: #ff6b00; text-decoration: underline;">¬øC√≥mo obtener estos valores? (Gu√≠a r√°pida)</a>
                </small>
            </div>

            <!-- Gesti√≥n de Secciones -->
            <div class="admin-section">
                <label class="admin-label">üìë Secciones del Men√∫</label>
                <div class="section-management">
                    <div id="sections-list"></div>
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px dashed rgba(255, 107, 0, 0.3);">
                        <input type="text" id="new-section-name" class="admin-input" placeholder="Nombre de nueva secci√≥n (ej: Postres, Combos)">
                        <input type="text" id="new-section-emoji" class="admin-input" placeholder="Emoji (ej: üç∞, üéÅ)" maxlength="2">
                        <button class="admin-save-btn" onclick="addNewSection()">‚ûï Agregar Nueva Secci√≥n</button>
                    </div>
                </div>
            </div>

            <!-- Gesti√≥n de Alitas -->
            <div class="admin-section">
                <label class="admin-label">üçó Alitas</label>
                <div class="product-list" id="admin-alitas-list"></div>
                <div class="add-product-section">
                    <input type="text" id="new-alita-name" class="admin-input" placeholder="Nombre (ej: 15 Alitas)">
                    <input type="number" id="new-alita-price" class="admin-input" placeholder="Precio S/." step="0.50">
                    <button class="admin-save-btn" onclick="addProduct('alitas')">‚ûï Agregar Alita</button>
                </div>
            </div>

            <!-- Gesti√≥n de Salsas -->
            <div class="admin-section">
                <label class="admin-label">üå∂Ô∏è Salsas</label>
                <div class="product-list" id="admin-salsas-list"></div>
                <div class="add-product-section">
                    <input type="text" id="new-salsa-name" class="admin-input" placeholder="Nombre de salsa (ej: Teriyaki)">
                    <button class="admin-save-btn" onclick="addSalsa()">‚ûï Agregar Salsa</button>
                </div>
            </div>

            <!-- Gesti√≥n de Papas -->
            <div class="admin-section">
                <label class="admin-label">üçü Papas</label>
                <div class="product-list" id="admin-papas-list"></div>
                <div class="add-product-section">
                    <input type="text" id="new-papa-name" class="admin-input" placeholder="Nombre (ej: Papas Grande)">
                    <input type="number" id="new-papa-price" class="admin-input" placeholder="Precio S/." step="0.50">
                    <button class="admin-save-btn" onclick="addProduct('papas')">‚ûï Agregar Papa</button>
                </div>
            </div>

            <!-- Gesti√≥n de Bebidas -->
            <div class="admin-section">
                <label class="admin-label">ü•§ Bebidas</label>
                <div class="product-list" id="admin-bebidas-list"></div>
                <div class="add-product-section">
                    <input type="text" id="new-bebida-name" class="admin-input" placeholder="Nombre (ej: Sprite)">
                    <input type="number" id="new-bebida-price" class="admin-input" placeholder="Precio S/." step="0.50">
                    <button class="admin-save-btn" onclick="addProduct('bebidas')">‚ûï Agregar Bebida</button>
                </div>
            </div>

            <!-- Secciones personalizadas din√°micas -->
            <div id="custom-sections-admin"></div>

            <button class="admin-save-btn" onclick="saveAdminSettings()">üíæ Guardar Cambios</button>
        </div>
    </div>

    <!-- Container principal -->
    <div class="container">
        
        <!-- Secci√≥n: Alitas -->
        <div class="section">
            <h2 class="section-title">üçó ALITAS</h2>
            <div class="products-grid" id="alitas-grid"></div>
            
            <div style="margin-top: 30px;">
                <h3 style="text-align: center; color: #ff8c00; font-size: 20px; margin-bottom: 15px;">
                    üå∂Ô∏è Elige tus salsas favoritas (puedes seleccionar varias)
                </h3>
                <div class="extras-container" id="salsas-container"></div>
            </div>
        </div>

        <!-- Secci√≥n: Papas -->
        <div class="section">
            <h2 class="section-title">üçü PAPAS FRITAS</h2>
            <div class="products-grid" id="papas-grid"></div>
        </div>

        <!-- Secci√≥n: Bebidas -->
        <div class="section">
            <h2 class="section-title">ü•§ BEBIDAS</h2>
            <div class="products-grid" id="bebidas-grid"></div>
        </div>

        <!-- Secciones personalizadas din√°micas -->
        <div id="custom-sections-menu"></div>

    </div>

    <!-- Burbuja de WhatsApp flotante -->
    <button class="whatsapp-bubble" onclick="openWhatsAppChat()" title="Chatea con nosotros">
        üí¨
    </button>

    <!-- Bot√≥n del carrito flotante -->
    <button class="cart-button" onclick="openCart()">
        üõí Ver Pedido
        <span class="cart-badge" id="cart-count">0</span>
    </button>

    <!-- Modal del carrito -->
    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Tu Pedido</h2>
                <button class="close-btn" onclick="closeCart()">&times;</button>
            </div>
            
            <!-- Nombre del cliente -->
            <div class="customer-name-section">
                <label class="delivery-label">üë§ Tu nombre</label>
                <input type="text" 
                       id="customer-name" 
                       class="customer-name-input" 
                       placeholder="Ingresa tu nombre"
                       oninput="saveCustomerName()">
            </div>
            
            <div id="cart-items"></div>
            
            <!-- Calculador de Delivery -->
            <div class="delivery-section">
                <div class="delivery-title">üèçÔ∏è Delivery</div>
                
                <div class="delivery-input-group">
                    <label class="delivery-label">Selecciona tu zona</label>
                    <select id="delivery-zone" class="delivery-select" onchange="calculateDelivery()">
                        <option value="">-- Selecciona tu zona --</option>
                        <option value="3.00">Tumbes Centro y Alrededores - S/. 3.00</option>
                        <option value="6.00">Puyango y Pampa Grande - S/. 6.00</option>
                    </select>
                </div>

                <div class="delivery-input-group">
                    <label class="delivery-label">Direcci√≥n exacta</label>
                    <textarea id="delivery-address" 
                              class="delivery-textarea" 
                              placeholder="Ej: Av. Tumbes 123, cerca al mercado central"
                              oninput="saveAddress()"></textarea>
                    <button class="maps-button" onclick="openGoogleMaps()">
                        üìç Marcar ubicaci√≥n en Google Maps
                    </button>
                </div>

                <div id="delivery-result" class="delivery-result" style="display: none;"></div>
            </div>
            
            <div class="cart-total" id="cart-total">Total: S/. 0.00</div>
            <button class="checkout-btn" onclick="checkout()">
                üì± Enviar Pedido por WhatsApp
            </button>
        </div>
    </div>

    <script>
        // Verificar IP del administrador
        async function checkAdminAccess() {
            const savedAdminIP = localStorage.getItem('allowedAdminIP');
            
            if (!savedAdminIP) {
                // Primera vez: obtener y guardar IP
                try {
                    const response = await fetch('https://api.ipify.org?format=json');
                    const data = await response.json();
                    const currentIP = data.ip;
                    
                    // Guardar esta IP como admin
                    localStorage.setItem('allowedAdminIP', currentIP);
                    
                    // Mostrar bot√≥n de admin
                    document.querySelector('.admin-button').classList.add('visible');
                    
                    console.log('üîë IP de administrador registrada:', currentIP);
                } catch (error) {
                    console.error('Error al obtener IP:', error);
                }
            } else {
                // Verificar si la IP actual coincide con la guardada
                try {
                    const response = await fetch('https://api.ipify.org?format=json');
                    const data = await response.json();
                    const currentIP = data.ip;
                    
                    if (currentIP === savedAdminIP) {
                        // IP coincide - mostrar admin
                        document.querySelector('.admin-button').classList.add('visible');
                        console.log('‚úÖ Acceso admin autorizado');
                    } else {
                        console.log('‚ùå Acceso admin denegado - IP no autorizada');
                    }
                } catch (error) {
                    console.error('Error al verificar IP:', error);
                }
            }
        }

        // Datos del men√∫
        const menuData = {
            alitas: [
                { id: 'alitas-3', name: '3 Alitas', description: 'Perfectas para picar', price: 12.00 },
                { id: 'alitas-6', name: '6 Alitas', description: 'Porci√≥n ideal para una persona', price: 22.00 },
                { id: 'alitas-9', name: '9 Alitas', description: 'Para los amantes de las alitas', price: 32.00 },
                { id: 'alitas-12', name: '12 Alitas', description: 'Una docena de sabor explosivo', price: 42.00 }
            ],
            salsas: ['Maracuy√°', 'BBQ Cl√°sico', 'BBQ Picante', 'Mora de la Casa', 'Acevichadas', 'Broaster'],
            papas: [
                { id: 'papas-personal', name: 'Papas Personal', description: 'Porci√≥n individual', price: 7.00 },
                { id: 'papas-familiar', name: 'Papas Familiar', description: 'Porci√≥n grande para compartir', price: 15.00 }
            ],
            bebidas: [
                { id: 'coca-cola', name: 'Coca Cola', description: 'Refresco cl√°sico', price: 3.50 },
                { id: 'inca-kola', name: 'Inca Kola', description: 'Sabor peruano', price: 3.50 },
                { id: 'agua', name: 'Agua Mineral', description: 'Agua embotellada', price: 2.00 }
            ]
        };

        // Carrito de compras
        let cart = [];
        let selectedSauces = []; // Cambiado a array para m√∫ltiples salsas
        let deliveryCost = 0;
        let deliveryAddress = '';
        let deliveryZone = '';
        let mapsLocation = '';
        let customerName = '';
        let adminEmail = '';
        let adminWhatsApp = '51942125102';
        let customSections = []; // Secciones personalizadas
        let logoImage = ''; // Logo en base64
        let emailJsServiceId = '';
        let emailJsTemplateId = '';
        let emailJsPublicKey = '';
        
        // Firebase
        let firebaseConfig = null;
        let firebaseApp = null;
        let firebaseDatabase = null;
        let firebaseInitialized = false;
        
        // IP autorizada para acceder al admin (c√°mbiala por tu IP)
        let authorizedIP = ''; // Se cargar√° del localStorage
        let currentUserIP = '';
        let allowedAdminIP = ''; // IP autorizada para admin

        // Cargar configuraci√≥n del localStorage
        function loadAdminSettings() {
            const savedEmail = localStorage.getItem('adminEmail');
            const savedWhatsApp = localStorage.getItem('adminWhatsApp');
            const savedAlitas = localStorage.getItem('alitas');
            const savedPapas = localStorage.getItem('papas');
            const savedBebidas = localStorage.getItem('bebidas');
            const savedSalsas = localStorage.getItem('salsas');
            const savedLogo = localStorage.getItem('logoImage');
            const savedCustomSections = localStorage.getItem('customSections');
            const savedEmailJsService = localStorage.getItem('emailJsServiceId');
            const savedEmailJsTemplate = localStorage.getItem('emailJsTemplateId');
            const savedEmailJsPublicKey = localStorage.getItem('emailJsPublicKey');

            if (savedEmail) {
                adminEmail = savedEmail;
                document.getElementById('admin-email').value = savedEmail;
            }
            if (savedWhatsApp) {
                adminWhatsApp = savedWhatsApp;
                document.getElementById('admin-whatsapp').value = savedWhatsApp;
            }
            if (savedAlitas) {
                menuData.alitas = JSON.parse(savedAlitas);
            }
            if (savedPapas) {
                menuData.papas = JSON.parse(savedPapas);
            }
            if (savedBebidas) {
                menuData.bebidas = JSON.parse(savedBebidas);
            }
            if (savedSalsas) {
                menuData.salsas = JSON.parse(savedSalsas);
            }
            if (savedLogo) {
                logoImage = savedLogo;
                displayLogo();
            }
            if (savedCustomSections) {
                customSections = JSON.parse(savedCustomSections);
                renderCustomSections();
            }
            if (savedEmailJsService) {
                emailJsServiceId = savedEmailJsService;
                document.getElementById('emailjs-service').value = savedEmailJsService;
            }
            if (savedEmailJsTemplate) {
                emailJsTemplateId = savedEmailJsTemplate;
                document.getElementById('emailjs-template').value = savedEmailJsTemplate;
            }
            if (savedEmailJsPublicKey) {
                emailJsPublicKey = savedEmailJsPublicKey;
                document.getElementById('emailjs-public-key').value = savedEmailJsPublicKey;
                // Inicializar EmailJS
                emailjs.init(emailJsPublicKey);
            }

            // Cargar configuraci√≥n de Firebase
            const savedFirebaseConfig = localStorage.getItem('firebaseConfig');
            if (savedFirebaseConfig) {
                try {
                    const config = JSON.parse(savedFirebaseConfig);
                    document.getElementById('firebase-api-key').value = config.apiKey || '';
                    document.getElementById('firebase-auth-domain').value = config.authDomain || '';
                    document.getElementById('firebase-database-url').value = config.databaseURL || '';
                    document.getElementById('firebase-project-id').value = config.projectId || '';
                    
                    // Inicializar Firebase autom√°ticamente
                    initializeFirebase(config);
                } catch (error) {
                    console.error('Error al cargar Firebase config:', error);
                }
            }

            // Actualizar listas en el admin
            updateAdminLists();
            updateSectionsList();
        }

        // Funciones para gestionar el logo
        function uploadLogo(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    logoImage = e.target.result;
                    displayLogo();
                    localStorage.setItem('logoImage', logoImage);
                };
                reader.readAsDataURL(file);
            }
        }

        function displayLogo() {
            const logoSpace = document.querySelector('.logo-space');
            const logoPreview = document.getElementById('logo-preview');
            
            if (logoImage) {
                logoSpace.innerHTML = `<img src="${logoImage}" style="max-width: 100%; max-height: 100%; object-fit: contain;">`;
                logoPreview.innerHTML = `<img src="${logoImage}">`;
            } else {
                logoSpace.innerHTML = '[LOGO]';
                logoPreview.innerHTML = '<span style="color: #888;">Sin logo</span>';
            }
        }

        function removeLogo() {
            if (confirm('¬øQuitar el logo?')) {
                logoImage = '';
                localStorage.removeItem('logoImage');
                displayLogo();
            }
        }

        // Funciones para gestionar secciones personalizadas
        function addNewSection() {
            const name = document.getElementById('new-section-name').value.trim();
            const emoji = document.getElementById('new-section-emoji').value.trim();

            if (!name) {
                alert('Por favor ingresa un nombre para la secci√≥n');
                return;
            }

            const sectionId = name.toLowerCase().replace(/\s+/g, '-');
            const newSection = {
                id: sectionId,
                name: name,
                emoji: emoji || 'üì¶',
                products: []
            };

            customSections.push(newSection);
            menuData[sectionId] = [];

            document.getElementById('new-section-name').value = '';
            document.getElementById('new-section-emoji').value = '';

            renderCustomSections();
            updateSectionsList();
            saveAdminSettings();
        }

        function deleteSection(index) {
            if (confirm('¬øEliminar esta secci√≥n y todos sus productos?')) {
                const sectionId = customSections[index].id;
                delete menuData[sectionId];
                customSections.splice(index, 1);
                
                renderCustomSections();
                updateSectionsList();
                saveAdminSettings();
            }
        }

        function updateSectionsList() {
            const sectionsList = document.getElementById('sections-list');
            sectionsList.innerHTML = '';

            // Secciones predeterminadas
            ['Alitas', 'Papas', 'Bebidas'].forEach(section => {
                const div = document.createElement('div');
                div.className = 'section-item';
                div.innerHTML = `
                    <span style="color: #ff6b00; font-weight: 600;">${section}</span>
                    <span style="color: #888; font-size: 12px;">Secci√≥n fija</span>
                `;
                sectionsList.appendChild(div);
            });

            // Secciones personalizadas
            customSections.forEach((section, index) => {
                const div = document.createElement('div');
                div.className = 'section-item';
                div.innerHTML = `
                    <span style="color: #ff6b00; font-weight: 600;">${section.emoji} ${section.name}</span>
                    <button class="delete-product-btn" onclick="deleteSection(${index})">üóëÔ∏è Eliminar</button>
                `;
                sectionsList.appendChild(div);
            });
        }

        function renderCustomSections() {
            // Renderizar en el men√∫
            const customMenuContainer = document.getElementById('custom-sections-menu');
            customMenuContainer.innerHTML = '';

            customSections.forEach(section => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'section';
                sectionDiv.innerHTML = `
                    <h2 class="section-title">${section.emoji} ${section.name.toUpperCase()}</h2>
                    <div class="products-grid" id="${section.id}-grid"></div>
                `;
                customMenuContainer.appendChild(sectionDiv);

                // Renderizar productos de esta secci√≥n
                const grid = document.getElementById(`${section.id}-grid`);
                if (menuData[section.id]) {
                    menuData[section.id].forEach(product => {
                        const card = createProductCard(product, section.id);
                        grid.appendChild(card);
                    });
                }
            });

            // Renderizar en el admin
            const customAdminContainer = document.getElementById('custom-sections-admin');
            customAdminContainer.innerHTML = '';

            customSections.forEach(section => {
                const adminSection = document.createElement('div');
                adminSection.className = 'admin-section';
                adminSection.innerHTML = `
                    <label class="admin-label">${section.emoji} ${section.name}</label>
                    <div class="product-list" id="admin-${section.id}-list"></div>
                    <div class="add-product-section">
                        <input type="text" id="new-${section.id}-name" class="admin-input" placeholder="Nombre del producto">
                        <input type="number" id="new-${section.id}-price" class="admin-input" placeholder="Precio S/." step="0.50">
                        <button class="admin-save-btn" onclick="addProduct('${section.id}')">‚ûï Agregar Producto</button>
                    </div>
                `;
                customAdminContainer.appendChild(adminSection);

                // Actualizar lista de productos en admin
                updateProductListForSection(section.id);
            });
        }

        function updateProductListForSection(sectionId) {
            const listElement = document.getElementById(`admin-${sectionId}-list`);
            if (!listElement) return;

            listElement.innerHTML = '';
            if (menuData[sectionId]) {
                menuData[sectionId].forEach((item, index) => {
                    const div = document.createElement('div');
                    div.className = 'product-item';
                    div.innerHTML = `
                        <span class="product-item-name">${item.name}</span>
                        <div>
                            <input type="number" value="${item.price}" step="0.50" 
                                   class="admin-input" style="width: 100px; display: inline-block; margin-right: 10px;"
                                   onchange="updatePrice('${sectionId}', ${index}, this.value)">
                            <button class="delete-product-btn" onclick="deleteProduct('${sectionId}', ${index})">üóëÔ∏è</button>
                        </div>
                    `;
                    listElement.appendChild(div);
                });
            }
        }

        function updateAdminLists() {
            // Lista de alitas
            const alitasList = document.getElementById('admin-alitas-list');
            alitasList.innerHTML = '';
            menuData.alitas.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'product-item';
                div.innerHTML = `
                    <span class="product-item-name">${item.name}</span>
                    <div>
                        <input type="number" value="${item.price}" step="0.50" 
                               class="admin-input" style="width: 100px; display: inline-block; margin-right: 10px;"
                               onchange="updatePrice('alitas', ${index}, this.value)">
                        <button class="delete-product-btn" onclick="deleteProduct('alitas', ${index})">üóëÔ∏è</button>
                    </div>
                `;
                alitasList.appendChild(div);
            });

            // Lista de salsas
            const salsasList = document.getElementById('admin-salsas-list');
            if (salsasList) {
                salsasList.innerHTML = '';
                menuData.salsas.forEach((salsa, index) => {
                    const div = document.createElement('div');
                    div.className = 'product-item';
                    div.innerHTML = `
                        <span class="product-item-name">${salsa}</span>
                        <button class="delete-product-btn" onclick="deleteSalsa(${index})">üóëÔ∏è</button>
                    `;
                    salsasList.appendChild(div);
                });
            }

            // Lista de papas
            const papasList = document.getElementById('admin-papas-list');
            papasList.innerHTML = '';
            menuData.papas.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'product-item';
                div.innerHTML = `
                    <span class="product-item-name">${item.name}</span>
                    <div>
                        <input type="number" value="${item.price}" step="0.50" 
                               class="admin-input" style="width: 100px; display: inline-block; margin-right: 10px;"
                               onchange="updatePrice('papas', ${index}, this.value)">
                        <button class="delete-product-btn" onclick="deleteProduct('papas', ${index})">üóëÔ∏è</button>
                    </div>
                `;
                papasList.appendChild(div);
            });

            // Lista de bebidas
            const bebidasList = document.getElementById('admin-bebidas-list');
            bebidasList.innerHTML = '';
            menuData.bebidas.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'product-item';
                div.innerHTML = `
                    <span class="product-item-name">${item.name}</span>
                    <div>
                        <input type="number" value="${item.price}" step="0.50" 
                               class="admin-input" style="width: 100px; display: inline-block; margin-right: 10px;"
                               onchange="updatePrice('bebidas', ${index}, this.value)">
                        <button class="delete-product-btn" onclick="deleteProduct('bebidas', ${index})">üóëÔ∏è</button>
                    </div>
                `;
                bebidasList.appendChild(div);
            });

            // Actualizar listas de secciones personalizadas
            customSections.forEach(section => {
                updateProductListForSection(section.id);
            });
        }

        function updatePrice(category, index, newPrice) {
            menuData[category][index].price = parseFloat(newPrice);
        }

        function addProduct(category) {
            const nameInput = document.getElementById(`new-${category === 'alitas' ? 'alita' : category === 'papas' ? 'papa' : category === 'bebidas' ? 'bebida' : category}-name`);
            const priceInput = document.getElementById(`new-${category === 'alitas' ? 'alita' : category === 'papas' ? 'papa' : category === 'bebidas' ? 'bebida' : category}-price`);
            
            const name = nameInput.value.trim();
            const price = parseFloat(priceInput.value);

            if (!name || !price || price <= 0) {
                alert('Por favor ingresa nombre y precio v√°lidos');
                return;
            }

            const newId = `${category}-${Date.now()}`;
            const newProduct = {
                id: newId,
                name: name,
                description: '',
                price: price
            };

            if (!menuData[category]) {
                menuData[category] = [];
            }

            menuData[category].push(newProduct);
            
            nameInput.value = '';
            priceInput.value = '';
            
            updateAdminLists();
            saveAdminSettings();
            
            // Re-renderizar
            renderProducts();
            renderCustomSections();
        }

        function addSalsa() {
            const nameInput = document.getElementById('new-salsa-name');
            const name = nameInput.value.trim();

            if (!name) {
                alert('Por favor ingresa el nombre de la salsa');
                return;
            }

            menuData.salsas.push(name);
            nameInput.value = '';
            
            updateAdminLists();
            saveAdminSettings();
            
            // Re-renderizar salsas
            const salsasContainer = document.getElementById('salsas-container');
            salsasContainer.innerHTML = '';
            menuData.salsas.forEach(salsa => {
                const chip = document.createElement('div');
                chip.className = 'extra-chip';
                chip.textContent = salsa;
                chip.onclick = () => selectSauce(salsa, chip);
                salsasContainer.appendChild(chip);
            });
        }

        function deleteSalsa(index) {
            if (confirm('¬øEliminar esta salsa?')) {
                menuData.salsas.splice(index, 1);
                updateAdminLists();
                saveAdminSettings();
                
                // Re-renderizar salsas
                const salsasContainer = document.getElementById('salsas-container');
                salsasContainer.innerHTML = '';
                menuData.salsas.forEach(salsa => {
                    const chip = document.createElement('div');
                    chip.className = 'extra-chip';
                    chip.textContent = salsa;
                    chip.onclick = () => selectSauce(salsa, chip);
                    salsasContainer.appendChild(chip);
                });
            }
        }

        function deleteProduct(category, index) {
            if (confirm('¬øEliminar este producto?')) {
                menuData[category].splice(index, 1);
                updateAdminLists();
                saveAdminSettings();
                renderProducts();
            }
        }

        function toggleAdmin() {
            const panel = document.getElementById('admin-panel');
            panel.classList.toggle('active');
            if (panel.classList.contains('active')) {
                updateAdminLists();
            }
        }

        function saveAdminSettings() {
            adminEmail = document.getElementById('admin-email').value;
            adminWhatsApp = document.getElementById('admin-whatsapp').value;
            emailJsServiceId = document.getElementById('emailjs-service').value;
            emailJsTemplateId = document.getElementById('emailjs-template').value;
            emailJsPublicKey = document.getElementById('emailjs-public-key').value;

            localStorage.setItem('adminEmail', adminEmail);
            localStorage.setItem('adminWhatsApp', adminWhatsApp);
            localStorage.setItem('emailJsServiceId', emailJsServiceId);
            localStorage.setItem('emailJsTemplateId', emailJsTemplateId);
            localStorage.setItem('emailJsPublicKey', emailJsPublicKey);
            localStorage.setItem('alitas', JSON.stringify(menuData.alitas));
            localStorage.setItem('papas', JSON.stringify(menuData.papas));
            localStorage.setItem('bebidas', JSON.stringify(menuData.bebidas));
            localStorage.setItem('salsas', JSON.stringify(menuData.salsas));
            localStorage.setItem('customSections', JSON.stringify(customSections));
            
            // Guardar productos de secciones personalizadas
            customSections.forEach(section => {
                if (menuData[section.id]) {
                    localStorage.setItem(section.id, JSON.stringify(menuData[section.id]));
                }
            });

            // Inicializar EmailJS si est√° configurado
            if (emailJsPublicKey) {
                emailjs.init(emailJsPublicKey);
            }

            alert('‚úÖ Configuraci√≥n guardada correctamente');
            
            // Sincronizar con Firebase si est√° configurado
            if (firebaseInitialized) {
                syncToFirebase();
            }
            
            renderProducts();
            renderCustomSections();
        }

        function saveCustomerName() {
            customerName = document.getElementById('customer-name').value;
        }

        function openWhatsAppChat() {
            const whatsappURL = `https://wa.me/${adminWhatsApp}?text=Hola%20Flareon,%20quisiera%20hacer%20un%20pedido!`;
            window.open(whatsappURL, '_blank');
        }

        function sendEmailNotification(orderDetails) {
            if (!adminEmail || !emailJsServiceId || !emailJsTemplateId || !emailJsPublicKey) {
                console.log('Email no configurado');
                return;
            }

            // Formatear lista de productos
            let productsList = '';
            orderDetails.items.forEach(item => {
                productsList += `${item.name} - S/. ${item.price.toFixed(2)}`;
                if (item.sauces && item.sauces.length > 0) {
                    productsList += ` (Salsas: ${item.sauces.join(', ')})`;
                }
                productsList += '\n';
            });

            // Preparar par√°metros del email
            const emailParams = {
                to_email: adminEmail,
                customer_name: orderDetails.customerName,
                products: productsList,
                subtotal: `S/. ${orderDetails.subtotal.toFixed(2)}`,
                delivery_cost: orderDetails.deliveryCost > 0 ? `S/. ${orderDetails.deliveryCost.toFixed(2)}` : 'Recojo en local',
                delivery_zone: orderDetails.zone || 'N/A',
                delivery_address: orderDetails.address || 'Recojo en local',
                total: `S/. ${orderDetails.total.toFixed(2)}`,
                timestamp: orderDetails.timestamp
            };

            // Enviar email usando EmailJS
            emailjs.send(emailJsServiceId, emailJsTemplateId, emailParams)
                .then(function(response) {
                    console.log('‚úÖ Email enviado correctamente', response.status, response.text);
                }, function(error) {
                    console.error('‚ùå Error al enviar email:', error);
                    alert('Nota: El pedido se envi√≥ por WhatsApp pero hubo un problema al enviar la notificaci√≥n por email. Revisa tu configuraci√≥n de EmailJS.');
                });
        }

        function showEmailJSInstructions() {
            const instructions = `
üìß C√ìMO CONFIGURAR EMAILJS (GRATIS)

1. Ve a https://www.emailjs.com y crea una cuenta gratis

2. Crea un servicio de email:
   - Dashboard ‚Üí Email Services ‚Üí Add New Service
   - Selecciona Gmail, Outlook u otro
   - Conecta tu email
   - Copia el SERVICE ID

3. Crea un template:
   - Dashboard ‚Üí Email Templates ‚Üí Create New Template
   - Usa estas variables en el template:
     {{to_email}}
     {{customer_name}}
     {{products}}
     {{subtotal}}
     {{delivery_cost}}
     {{delivery_zone}}
     {{delivery_address}}
     {{total}}
     {{timestamp}}
   - Copia el TEMPLATE ID

4. Obt√©n tu Public Key:
   - Dashboard ‚Üí Account ‚Üí General
   - Copia el PUBLIC KEY

5. Pega los 3 valores en el panel de admin y guarda

Ejemplo de template de email:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üî• NUEVO PEDIDO FLAREON

Cliente: {{customer_name}}
Fecha: {{timestamp}}

PRODUCTOS:
{{products}}

Subtotal: {{subtotal}}
Delivery: {{delivery_cost}}
Zona: {{delivery_zone}}

TOTAL: {{total}}

üìç Direcci√≥n de entrega:
{{delivery_address}}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

¬°EmailJS te permite 200 emails gratis al mes!
            `;
            alert(instructions);
        }

        // Renderizar productos
        // ========================================
        // FUNCIONES DE FIREBASE
        // ========================================
        
        function initializeFirebase(config) {
            try {
                if (firebaseApp) return true;
                firebaseApp = firebase.initializeApp(config);
                firebaseDatabase = firebase.database();
                firebaseInitialized = true;
                listenToFirebaseChanges();
                updateFirebaseStatus('üü¢ Conectado');
                return true;
            } catch (error) {
                updateFirebaseStatus('üî¥ Error');
                return false;
            }
        }

        function listenToFirebaseChanges() {
            if (!firebaseDatabase) return;
            firebaseDatabase.ref('menu').on('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    console.log('üì• Sincronizando desde Firebase');
                    // SIEMPRE actualizar (Firebase tiene prioridad)
                    if (data.alitas) {
                        menuData.alitas = data.alitas;
                        localStorage.setItem('alitas', JSON.stringify(data.alitas));
                    }
                    if (data.papas) {
                        menuData.papas = data.papas;
                        localStorage.setItem('papas', JSON.stringify(data.papas));
                    }
                    if (data.bebidas) {
                        menuData.bebidas = data.bebidas;
                        localStorage.setItem('bebidas', JSON.stringify(data.bebidas));
                    }
                    if (data.salsas) {
                        menuData.salsas = data.salsas;
                        localStorage.setItem('salsas', JSON.stringify(data.salsas));
                    }
                    if (data.customSections) {
                        customSections = data.customSections;
                        localStorage.setItem('customSections', JSON.stringify(data.customSections));
                    }
                    renderProducts();
                    renderCustomSections();
                    updateAdminLists();
                }
            });
        }

        function syncToFirebase() {
            if (!firebaseDatabase) return;
            try {
                firebaseDatabase.ref('menu').set({
                    alitas: menuData.alitas,
                    papas: menuData.papas,
                    bebidas: menuData.bebidas,
                    salsas: menuData.salsas,
                    customSections: customSections,
                    lastUpdate: new Date().toISOString()
                });
                
                firebaseDatabase.ref('config').set({
                    whatsapp: adminWhatsApp,
                    email: adminEmail,
                    logo: logoImage,
                    lastUpdate: new Date().toISOString()
                });
                
                updateFirebaseStatus('üü¢ Sincronizado');
                console.log('‚úÖ Sincronizado con Firebase');
            } catch (error) {
                updateFirebaseStatus('üî¥ Error');
                console.error('Error:', error);
            }
        }

        function saveFirebaseConfig() {
            const apiKey = document.getElementById('firebase-api-key').value.trim();
            const authDomain = document.getElementById('firebase-auth-domain').value.trim();
            const databaseURL = document.getElementById('firebase-database-url').value.trim();
            const projectId = document.getElementById('firebase-project-id').value.trim();
            
            if (!apiKey || !authDomain || !databaseURL || !projectId) {
                alert('‚ö†Ô∏è Completa todos los campos');
                return;
            }
            
            const config = { apiKey, authDomain, databaseURL, projectId };
            localStorage.setItem('firebaseConfig', JSON.stringify(config));
            
            if (initializeFirebase(config)) {
                syncToFirebase();
                alert('‚úÖ Firebase configurado y sincronizado!');
            } else {
                alert('‚ùå Error. Verifica los valores.');
            }
        }

        function updateFirebaseStatus(status) {
            const el = document.getElementById('firebase-status');
            if (el) el.textContent = status;
        }

        function showFirebaseSetup() {
            alert('üî• GU√çA\n\n1. firebase.google.com\n2. Crear proyecto\n3. Realtime Database\n4. Configuraci√≥n ‚Üí Web\n5. Copiar valores\n\nVer INSTRUCCIONES_FIREBASE.md');
        }

        function renderProducts() {
            // Alitas
            const alitasGrid = document.getElementById('alitas-grid');
            menuData.alitas.forEach(product => {
                const card = createProductCard(product, 'alitas');
                alitasGrid.appendChild(card);
            });

            // Salsas
            const salsasContainer = document.getElementById('salsas-container');
            menuData.salsas.forEach(salsa => {
                const chip = document.createElement('div');
                chip.className = 'extra-chip';
                chip.textContent = salsa;
                chip.onclick = () => selectSauce(salsa, chip);
                salsasContainer.appendChild(chip);
            });

            // Papas
            const papasGrid = document.getElementById('papas-grid');
            menuData.papas.forEach(product => {
                const card = createProductCard(product, 'papas');
                papasGrid.appendChild(card);
            });

            // Bebidas
            const bebidasGrid = document.getElementById('bebidas-grid');
            menuData.bebidas.forEach(product => {
                const card = createProductCard(product, 'bebidas');
                bebidasGrid.appendChild(card);
            });
        }

        function createProductCard(product, category) {
            const card = document.createElement('div');
            card.className = 'product-card';
            
            const hasPrice = product.price > 0;
            
            card.innerHTML = `
                <div class="product-name">${product.name}</div>
                <div class="product-description">${product.description}</div>
                ${hasPrice ? 
                    `<div class="product-price">S/. ${product.price.toFixed(2)}</div>` :
                    `<input type="number" 
                           class="price-input" 
                           id="price-${product.id}" 
                           placeholder="S/. Precio" 
                           min="0" 
                           step="0.50"
                           value="">`
                }
                <button class="add-to-cart-btn" onclick="addToCart('${product.id}', '${product.name}', '${category}', ${product.price})">
                    ‚ûï Agregar al Pedido
                </button>
            `;
            
            return card;
        }

        function selectSauce(salsa, element) {
            // Toggle selecci√≥n (permite m√∫ltiples)
            if (element.classList.contains('selected')) {
                // Deseleccionar
                element.classList.remove('selected');
                const index = selectedSauces.indexOf(salsa);
                if (index > -1) {
                    selectedSauces.splice(index, 1);
                }
            } else {
                // Seleccionar
                element.classList.add('selected');
                selectedSauces.push(salsa);
            }
            
            console.log('Salsas seleccionadas:', selectedSauces);
        }

        function addToCart(id, name, category, fixedPrice = 0) {
            let price;
            
            if (fixedPrice > 0) {
                // Precio fijo (alitas)
                price = fixedPrice;
            } else {
                // Precio ingresado por el usuario (papas, bebidas)
                const priceInput = document.getElementById(`price-${id}`);
                price = parseFloat(priceInput.value);
                
                if (!price || price <= 0) {
                    alert('Por favor ingresa un precio v√°lido');
                    return;
                }
            }

            // Animaci√≥n
            const btn = event.target;
            btn.classList.add('adding');
            setTimeout(() => btn.classList.remove('adding'), 300);

            const item = {
                id: id,
                name: name,
                price: price,
                category: category,
                sauces: category === 'alitas' ? [...selectedSauces] : null // Copiar array de salsas
            };

            cart.push(item);
            updateCartUI();
            
            // Confirmaci√≥n visual
            btn.textContent = '‚úì Agregado';
            setTimeout(() => {
                btn.textContent = '‚ûï Agregar al Pedido';
            }, 1000);
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            cartCount.textContent = cart.length;
            
            if (cart.length > 0) {
                cartCount.style.display = 'flex';
            } else {
                cartCount.style.display = 'none';
            }
        }

        function calculateDelivery() {
            const zoneSelect = document.getElementById('delivery-zone');
            const cost = parseFloat(zoneSelect.value);
            const resultDiv = document.getElementById('delivery-result');
            
            if (!cost || cost <= 0) {
                resultDiv.style.display = 'none';
                deliveryCost = 0;
                deliveryZone = '';
                updateCartTotal();
                return;
            }
            
            deliveryCost = cost;
            deliveryZone = zoneSelect.options[zoneSelect.selectedIndex].text;
            resultDiv.style.display = 'block';
            resultDiv.textContent = `Delivery: S/. ${cost.toFixed(2)}`;
            
            updateCartTotal();
        }

        function saveAddress() {
            deliveryAddress = document.getElementById('delivery-address').value;
        }

        function openGoogleMaps() {
            // Abre Google Maps para que el usuario marque su ubicaci√≥n
            const mapsUrl = 'https://www.google.com/maps/@-3.5669866,-80.4515254,15z';
            window.open(mapsUrl, '_blank');
            
            alert('üìç Instrucciones:\n\n1. Marca tu ubicaci√≥n en Google Maps\n2. Haz clic en "Compartir"\n3. Copia el enlace\n4. P√©galo en el mensaje de WhatsApp cuando hagas el pedido\n\nO simplemente escribe tu direcci√≥n en el campo de texto.');
        }

        function updateCartTotal() {
            let subtotal = 0;
            cart.forEach(item => {
                subtotal += item.price;
            });
            
            const total = subtotal + deliveryCost;
            
            if (deliveryCost > 0) {
                document.getElementById('cart-total').innerHTML = `
                    Subtotal: S/. ${subtotal.toFixed(2)}<br>
                    Delivery: S/. ${deliveryCost.toFixed(2)}<br>
                    <span style="font-size: 28px;">Total: S/. ${total.toFixed(2)}</span>
                `;
            } else {
                document.getElementById('cart-total').textContent = `Total: S/. ${total.toFixed(2)}`;
            }
        }

        function openCart() {
            const modal = document.getElementById('cart-modal');
            const cartItemsDiv = document.getElementById('cart-items');
            
            if (cart.length === 0) {
                cartItemsDiv.innerHTML = '<div class="empty-cart">Tu pedido est√° vac√≠o<br>üî• ¬°Agrega algo delicioso!</div>';
            } else {
                let html = '';
                
                cart.forEach((item, index) => {
                    html += `
                        <div class="cart-item">
                            <div class="cart-item-header">
                                <div class="cart-item-name">${item.name}</div>
                                <div class="cart-item-price">S/. ${item.price.toFixed(2)}</div>
                            </div>
                            ${item.sauces && item.sauces.length > 0 ? `<div class="cart-item-details">üå∂Ô∏è Salsas: ${item.sauces.join(', ')}</div>` : ''}
                            <button class="remove-btn" onclick="removeFromCart(${index})">üóëÔ∏è Eliminar</button>
                        </div>
                    `;
                });
                
                cartItemsDiv.innerHTML = html;
            }
            
            updateCartTotal();
            modal.classList.add('active');
        }

        function closeCart() {
            document.getElementById('cart-modal').classList.remove('active');
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
            openCart();
        }

        function checkout() {
            if (cart.length === 0) {
                alert('Tu pedido est√° vac√≠o');
                return;
            }

            if (!customerName.trim()) {
                alert('‚ö†Ô∏è Por favor ingresa tu nombre');
                return;
            }

            if (deliveryCost > 0 && !deliveryAddress.trim()) {
                alert('‚ö†Ô∏è Por favor ingresa tu direcci√≥n de entrega');
                return;
            }

            let message = 'üî• *NUEVO PEDIDO FLAREON* üî•%0A%0A';
            message += `üë§ *Cliente:* ${customerName}%0A%0A`;
            
            let subtotal = 0;
            
            message += '*PRODUCTOS:*%0A';
            cart.forEach(item => {
                message += `‚Ä¢ ${item.name} - S/. ${item.price.toFixed(2)}`;
                if (item.sauces && item.sauces.length > 0) {
                    message += ` (Salsas: ${item.sauces.join(', ')})`;
                }
                message += '%0A';
                subtotal += item.price;
            });
            
            message += `%0A*Subtotal: S/. ${subtotal.toFixed(2)}*%0A`;
            
            if (deliveryCost > 0) {
                message += `*Delivery: S/. ${deliveryCost.toFixed(2)}*%0A`;
                message += `*Zona: ${deliveryZone.split(' - ')[0]}*%0A`;
                message += `%0A*TOTAL: S/. ${(subtotal + deliveryCost).toFixed(2)}*%0A`;
                message += `%0Aüìç *DIRECCI√ìN DE ENTREGA:*%0A${deliveryAddress}`;
            } else {
                message += `%0A*TOTAL: S/. ${subtotal.toFixed(2)}*%0A`;
                message += `%0Aüìç Recojo en local`;
            }
            
            // Preparar detalles del pedido para notificaci√≥n
            const orderDetails = {
                customerName: customerName,
                items: cart,
                subtotal: subtotal,
                deliveryCost: deliveryCost,
                total: subtotal + deliveryCost,
                address: deliveryAddress,
                zone: deliveryZone,
                timestamp: new Date().toLocaleString()
            };

            // Enviar notificaci√≥n por email (si est√° configurado)
            sendEmailNotification(orderDetails);

            // Guardar pedido en localStorage para historial
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.push(orderDetails);
            localStorage.setItem('orders', JSON.stringify(orders));

            // Mostrar notificaci√≥n en la app
            alert('üî• ¬°Pedido enviado!\n\nSe enviar√° tu pedido por WhatsApp.');

            // Enviar por WhatsApp
            const whatsappURL = `https://wa.me/${adminWhatsApp}?text=${message}`;
            window.open(whatsappURL, '_blank');

            // Limpiar carrito despu√©s de enviar
            setTimeout(() => {
                cart = [];
                deliveryCost = 0;
                deliveryAddress = '';
                customerName = '';
                document.getElementById('customer-name').value = '';
                document.getElementById('delivery-address').value = '';
                document.getElementById('delivery-zone').value = '';
                updateCartUI();
                closeCart();
            }, 1000);
        }

        // Click fuera del modal para cerrar
        window.onclick = function(event) {
            const modal = document.getElementById('cart-modal');
            if (event.target === modal) {
                closeCart();
            }
        }

        // Funciones para controlar acceso al admin por IP
        async function checkAdminAccess() {
            try {
                // Obtener IP del usuario usando un servicio p√∫blico
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                currentUserIP = data.ip;
                
                console.log('Tu IP actual:', currentUserIP);
                
                // Mostrar IP actual en el panel de admin si existe
                const currentIPSpan = document.getElementById('current-ip');
                if (currentIPSpan) {
                    currentIPSpan.textContent = currentUserIP;
                }
                
                // Cargar IP autorizada
                const savedAuthorizedIP = localStorage.getItem('authorizedIP');
                
                // Mostrar IP autorizada en el panel
                const authorizedIPInput = document.getElementById('authorized-ip');
                if (authorizedIPInput && savedAuthorizedIP) {
                    authorizedIPInput.value = savedAuthorizedIP;
                }
                
                // Si no hay IP autorizada guardada, guardar la actual como autorizada
                if (!savedAuthorizedIP) {
                    localStorage.setItem('authorizedIP', currentUserIP);
                    authorizedIP = currentUserIP;
                    if (authorizedIPInput) {
                        authorizedIPInput.value = currentUserIP;
                    }
                    showAdminButton();
                    alert(`üîê Primera vez: Tu IP (${currentUserIP}) ha sido guardada como IP autorizada para el panel de administraci√≥n.\n\nSolo desde esta IP podr√°s ver el bot√≥n de Admin.`);
                } else {
                    authorizedIP = savedAuthorizedIP;
                    
                    // Verificar si la IP actual est√° autorizada
                    if (currentUserIP === authorizedIP) {
                        showAdminButton();
                    } else {
                        hideAdminButton();
                        console.log('Acceso denegado: IP no autorizada');
                    }
                }
            } catch (error) {
                console.error('Error al detectar IP:', error);
                // Si hay error al detectar IP, ocultar bot√≥n por seguridad
                hideAdminButton();
            }
        }

        function changeAuthorizedIP() {
            if (confirm(`¬øCambiar la IP autorizada a tu IP actual (${currentUserIP})?\n\n‚ö†Ô∏è La IP anterior (${authorizedIP}) ya no tendr√° acceso al panel de administraci√≥n.`)) {
                localStorage.setItem('authorizedIP', currentUserIP);
                authorizedIP = currentUserIP;
                document.getElementById('authorized-ip').value = currentUserIP;
                alert(`‚úÖ IP autorizada actualizada a: ${currentUserIP}`);
            }
        }

        function showAdminButton() {
            const adminBtn = document.querySelector('.admin-button');
            if (adminBtn) {
                adminBtn.style.display = 'block';
            }
        }

        function hideAdminButton() {
            const adminBtn = document.querySelector('.admin-button');
            if (adminBtn) {
                adminBtn.style.display = 'none';
            }
        }

        // Inicializar
        loadAdminSettings();
        renderProducts();

        // Sistema de acceso secreto al admin (presiona: ADMIN)
        let secretKeys = [];
        const secretCode = ['a', 'd', 'm', 'i', 'n']; // C√≥digo secreto: "admin"
        
        document.addEventListener('keydown', function(e) {
            secretKeys.push(e.key.toLowerCase());
            secretKeys = secretKeys.slice(-5); // Mantener solo √∫ltimas 5 teclas
            
            // Verificar si coincide con el c√≥digo
            if (secretKeys.join('') === secretCode.join('')) {
                showAdminButton();
                alert('üîì Panel de administraci√≥n desbloqueado!\n\nPuedes acceder al panel de admin.');
                secretKeys = []; // Resetear
            }
        });

        function showAdminButton() {
            const adminBtn = document.querySelector('.admin-button');
            if (adminBtn) {
                adminBtn.style.display = 'block';
            }
        }

        function hideAdminButton() {
            const adminBtn = document.querySelector('.admin-button');
            if (adminBtn) {
                adminBtn.style.display = 'none';
            }
        }

        // Generar part√≠culas de fuego
        function createFireParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (6 + Math.random() * 4) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Crear part√≠culas al cargar
        createFireParticles();
    </script>
</body>
</html>
